<!DOCTYPE html>
<html>
<head>
    <title>Form Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        select, input { margin: 5px; padding: 5px; }
    </style>
</head>
<body>
    <h1>Form Functionality Test</h1>
    
    <div class="section">
        <h2>Step 2 - Breed Selection</h2>
        <div>
            <label for="breed_option">Breed Option:</label>
            <select id="breed_option" name="breed_option">
                <option value="">Select an option</option>
                <option value="know_breed">I know the breed</option>
                <option value="dont_know">Don't know</option>
                <option value="mix">Mix</option>
                <option value="custom">Other (specify)</option>
            </select>
        </div>
        
        <div id="breed_selection" style="display: none;">
            <label for="breed_id">Breed:</label>
            <select id="breed_id" name="breed_id">
                <option value="">Select breed</option>
                <option value="1">Labrador</option>
                <option value="2">German Shepherd</option>
            </select>
        </div>
        
        <div id="custom_breed_input" style="display: none;">
            <label for="custom_breed_name">Custom Breed:</label>
            <input type="text" id="custom_breed_name" name="custom_breed_name" />
        </div>
    </div>
    
    <div class="section">
        <h2>Step 3 - Birth Date</h2>
        <div>
            <label>Do you know the exact birth date?</label><br>
            <input type="radio" id="knows_birth_yes" name="knows_birth" value="yes">
            <label for="knows_birth_yes">Yes</label><br>
            <input type="radio" id="knows_birth_no" name="knows_birth" value="no">
            <label for="knows_birth_no">No</label>
        </div>
        
        <div id="date_of_birth_section" style="display: none;">
            <label for="date_of_birth">Date of Birth:</label>
            <input type="date" id="date_of_birth" name="date_of_birth" />
        </div>
        
        <div id="approximate_age_section" style="display: none;">
            <label for="approximate_age">Approximate Age:</label>
            <select id="approximate_age" name="approximate_age">
                <option value="">Select age</option>
                <option value="puppy">Puppy (0-1 year)</option>
                <option value="young">Young (1-3 years)</option>
                <option value="adult">Adult (3-7 years)</option>
                <option value="senior">Senior (7+ years)</option>
            </select>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test page loaded');
            
            // Step 2 elements
            const breedOption = document.getElementById('breed_option');
            const breedSelection = document.getElementById('breed_selection');
            const customBreedInput = document.getElementById('custom_breed_input');
            
            // Step 3 elements
            const knowsBirthYes = document.getElementById('knows_birth_yes');
            const knowsBirthNo = document.getElementById('knows_birth_no');
            const dateOfBirthSection = document.getElementById('date_of_birth_section');
            const approximateAgeSection = document.getElementById('approximate_age_section');
            
            // Step 2 functionality
            if (breedOption) {
                breedOption.addEventListener('change', function() {
                    const value = this.value;
                    console.log('Breed option changed to:', value);
                    
                    breedSelection.style.display = 'none';
                    customBreedInput.style.display = 'none';
                    
                    if (value === 'know_breed') {
                        breedSelection.style.display = 'block';
                    } else if (value === 'custom') {
                        customBreedInput.style.display = 'block';
                    }
                });
            }
            
            // Step 3 functionality
            function handleBirthDateChange() {
                if (knowsBirthYes.checked) {
                    dateOfBirthSection.style.display = 'block';
                    approximateAgeSection.style.display = 'none';
                } else if (knowsBirthNo.checked) {
                    dateOfBirthSection.style.display = 'none';
                    approximateAgeSection.style.display = 'block';
                } else {
                    dateOfBirthSection.style.display = 'none';
                    approximateAgeSection.style.display = 'none';
                }
            }
            
            if (knowsBirthYes && knowsBirthNo) {
                knowsBirthYes.addEventListener('change', handleBirthDateChange);
                knowsBirthNo.addEventListener('change', handleBirthDateChange);
            }
        });
    </script>
</body>
</html>
